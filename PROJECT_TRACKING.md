# PROJECT_TRACKING.md - 项目跟踪

## Bug 记录

| ID | 描述 | 严重度 | 状态 | 发现时间 | 修复时间 |
|----|------|--------|------|----------|----------|
| BUG-001 | 社群页面点击报错 - questions collection 不存在 | S1 | 🔴 阻塞中 | 2026-02-07 17:44 | - |
| BUG-002 | Tab Bar 显示黑色方块 - 图标文件缺失 | S2 | 🔴 待验证 | 2026-02-07 18:10 | - |
| BUG-003 | 按钮文字为"生成无厘头回复" 应改为"咨询狗哥" | S3 | ✅ 已修复 | 2026-02-07 18:15 | 2026-02-07 18:15 |
| BUG-004 | "咨询狗哥" 按钮点击无响应 | S1 | 🔴 待修复 | 2026-02-07 18:35 | - |

### BUG-001 详情
- **问题**: 点击社群页面报错 `database collection not exists | questions`
- **原因**: `questions`、`votes`、`answers` collection 未在云开发环境创建
- **复现步骤**: 打开小程序 → 点击社群 tab
- **预期**: 正常加载问题列表
- **实际**: 报错 collection 不存在
- **建议**: 创建数据库初始化云函数或部署脚本

### BUG-002 详情
- **问题**: Tab Bar 显示四个黑色方块
- **原因**: `images/` 目录为空，图标文件缺失
- **复现步骤**: 打开小程序 → 底部 Tab Bar
- **预期**: 显示彩色的 Tab Bar 图标
- **实际**: 显示黑色方块
- **修复**: 已生成 8 个 Tab Bar 图标并提交

### BUG-003 详情
- **问题**: 按钮文字为"生成无厘头回复"
- **原因**: 需求要求改为"咨询狗哥"
- **修复**: 已修改 `pages/index/index.wxml` 按钮文字

### BUG-004 详情
- **问题**: 点击"咨询狗哥"按钮后无任何响应
- **症状**: 无 loading、无跳转、无 toast 提示
- **原因**: `generateReply` 云函数使用 `cloud.openapi.request` 调用第三方 API，方式错误
- **修复建议**: 使用 `axios` 或 `node-fetch` 调用 MiniMax API

## 任务记录

| ID | 描述 | 状态 | 负责人 | 创建时间 | 最后催促 |
|----|------|------|--------|----------|----------|
| TASK-001 | 部署 initDb 云函数并创建数据库集合 | 🔴 🔇 **无响应** | @KabiKabiYaaa_bot | 2026-02-07 17:52 | 19:02, 19:04 |
| TASK-002 | 修复 "咨询狗哥" 按钮点击无响应问题 | 🔴 🔇 **无响应** | @KabiKabiYaaa_bot | 2026-02-07 18:35 | 19:02, 19:04 |

## 配置信息

- **Staging 环境ID**: `cloud1-8ge51kis0d4af40b`
- **AppID**: `wx3ae4dfecd97351ea`

## 变更日志

### 2026-02-07
- 发现 BUG-001: 社群页面因 questions collection 不存在而报错
- 18:02 GMT+8 - James 直接指令 @KabiKabiYaaa_bot 立即修复 TASK-001 和 TASK-002
