<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-card">
    <view class="avatar-section">
      <button class="avatar-btn" bindtap="onLoginTap" open-type="{{hasUserInfo ? '' : 'chooseAvatar'}}">
        <image 
          class="avatar" 
          src="{{userInfo.avatarUrl || '/images/dog-avatar-new.jpg'}}" 
          mode="aspectFill"
        />
      </button>
    </view>
    <view class="info-section">
      <input 
        class="nickname-input" 
        value="{{userInfo.nickName || 'ç‹—ç‹—ç”¨æˆ·'}}" 
        bindinput="onNicknameInput"
        disabled="{{!hasUserInfo}}"
        placeholder="ç‚¹å‡»å¤´åƒç™»å½•"
      />
      <text class="user-id">ID: {{userInfo._id || 'æœªç™»å½•'}}</text>
    </view>
  </view>

  <!-- ç™»å½•æŒ‰é’® -->
  <view class="login-btn-section" wx:if="{{!hasUserInfo}}">
    <button class="wechat-login-btn" bindtap="onLoginTap" open-type="chooseAvatar">
      ğŸ“± å¾®ä¿¡ä¸€é”®ç™»å½•
    </button>
    <text class="login-tip">ç™»å½•ååŒæ­¥ä½ çš„å†å²å’Œç‚¹èµ</text>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-num">{{stats.totalQuestions || 0}}</text>
      <text class="stat-label">ç´¯è®¡æé—®</text>
    </view>
    <view class="stat-item">
      <text class="stat-num">{{stats.totalLikes || 0}}</text>
      <text class="stat-label">è·å¾—ç‚¹èµ</text>
    </view>
  </view>

  <!-- è·³è½¬é¦–é¡µ -->
  <view class="btn-section">
    <button class="go-index-btn" bindtap="goToIndex">ğŸ’¬ å»æé—®</button>
  </view>
</view>
