<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-card">
    <view class="avatar-section">
      <image 
        class="avatar" 
        src="{{userInfo.avatarUrl || '/images/dog-avatar/png/westie-cute.png'}}" 
        mode="aspectFill"
      />
    </view>
    <view class="info-section">
      <text class="nickname">{{userInfo.nickName || 'ç‹—ç‹—ç”¨æˆ·'}}</text>
      <text class="user-id">ID: {{userInfo._id || userInfo.openid || '----'}}</text>
      <text class="join-time">åŠ å…¥æ—¶é—´: {{userInfo.createTime || '----'}}</text>
    </view>
  </view>

  <!-- ç»Ÿè®¡æ•°æ® -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-num">{{stats.totalQuestions || 0}}</text>
      <text class="stat-label">ç´¯è®¡æé—®</text>
    </view>
    <view class="stat-item">
      <text class="stat-num">{{stats.totalLikes || 0}}</text>
      <text class="stat-label">è·å¾—ç‚¹èµ</text>
    </view>
  </view>

  <!-- å†å²æé—® -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æˆ‘çš„æé—®</text>
      <text class="section-action" bindtap="onClearHistory">æ¸…é™¤</text>
    </view>
    
    <view class="question-list" wx:if="{{myQuestions.length > 0}}">
      <view 
        class="question-item" 
        wx:for="{{myQuestions}}" 
        wx:key="id"
        bindtap="onQuestionTap" 
        data-id="{{item.id}}"
      >
        <text class="question-text">{{item.question}}</text>
        <text class="question-time">{{item.createTime}}</text>
      </view>
    </view>
    
    <view class="empty-state" wx:if="{{myQuestions.length === 0}}">
      <text class="empty-icon">ğŸ“­</text>
      <text class="empty-text">è¿˜æ²¡æœ‰æé—®è¿‡</text>
      <button class="btn-primary" bindtap="goToIndex">å»æé—®</button>
    </view>
  </view>

  <!-- å…¶ä»–åŠŸèƒ½ -->
  <view class="menu-list">
    <view class="menu-item" bindtap="onHistoryTap">
      <text class="menu-icon">ğŸ“œ</text>
      <text class="menu-text">å†å²è®°å½•</text>
      <text class="menu-arrow">â€º</text>
    </view>
    <button class="menu-item share-btn" open-type="share">
      <text class="menu-icon">ğŸ“¤</text>
      <text class="menu-text">åˆ†äº«ç»™æœ‹å‹</text>
      <text class="menu-arrow">â€º</text>
    </button>
  </view>
</view>

<!-- è·³è½¬é¦–é¡µ -->
<view class="fab" bindtap="goToIndex">
  <text>ğŸ’¬</text>
</view>
